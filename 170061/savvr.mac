	.TITLE	SAVVR
	.IDENT /02.01/

;
; COPYRIGHT 1974, 1989, DIGITAL EQUIPMENT CORP., MAYNARD, MASS.
;
; THIS SOFTWARE IS FURNISHED TO PURCHASER UNDER A LICENSE FOR USE
; ON A  SINGLE COMPUTER SYSTEM AND CAN BE  COPIED (WITH INCLUSION
; OF DEC'S COPYRIGHT  NOTICE) ONLY FOR USE IN SUCH SYSTEM, EXCEPT
; AS MAY OTHERWISE BE PROVIDED IN WRITING BY DEC.
;
; THE  INFORMATION  IN THIS DOCUMENT IS SUBJECT TO CHANGE WITHOUT
; NOTICE  AND  SHOULD NOT BE CONSTRUED AS A COMMITMENT BY DIGITAL
; EQUIPMENT CORPORATION.
;
; DEC  ASSUMES NO  RESPONSIBILITY  FOR  THE  USE  OR  RELIABILITY
; OF  ITS  SOFTWARE ON  EQUIPMENT WHICH  IS  NOT SUPPLIED BY DEC.
;
; D.N. CUTLER 18-NOV-72
; MODIFIED FOR RSX-11M-PLUS V4.2 BY:
;
; 	R. SPINNEY	20-JAN-89	02.01
;		RWS014 -- PUT MODULE IN PURE CODE PSECT
;
;+
	.MCALL .PCODE

; **-$SAVVR-SAVE/RESTORE VOLITILE REGISTERS
;
; JSR R2,$SAVVR
;-

	.PCODE			; PURE CODE PSECT

$SAVVR::MOV	R1,-(SP)	;SAVE R1 AND R0
	MOV	R0,-(SP)	;
	MOV	R2,-(SP)	;SET RETURN ADDRESS
	MOV	6(SP),R2	;RESTORE R2
	CALL	@(SP)+		;CALL THE CALLER
	MOV	(SP)+,R0	;RESTORE REGISTERS
	MOV	(SP)+,R1	;
	MOV	(SP)+,R2	;
	RETURN			;

	.END
