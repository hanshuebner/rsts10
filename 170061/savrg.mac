	.TITLE	SAVRG
	.IDENT	/04/
;  
; 		COPYRIGHT (c) 1981 BY
; 	DIGITAL EQUIPMENT CORPORATION, MAYNARD
; 	 MASSACHUSETTS.  ALL RIGHTS RESERVED.
;  
; THIS  SOFTWARE  IS FURNISHED UNDER A LICENSE AND MAY
; BE USED AND  COPIED  ONLY  IN  ACCORDANCE  WITH  THE
; TERMS  OF SUCH LICENSE AND WITH THE INCLUSION OF THE
; ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE OR ANY  OTHER
; COPIES  THEREOF  MAY  NOT  BE  PROVIDED OR OTHERWISE
; MADE AVAILABLE TO ANY OTHER  PERSON.   NO  TITLE  TO
; AND OWNERSHIP OF THE SOFTWARE IS HEREBY TRANSFERRED.
;  
; THE  INFORMATION  IN  THIS  SOFTWARE  IS  SUBJECT TO
; CHANGE WITHOUT NOTICE AND SHOULD  NOT  BE  CONSTRUED
; AS  A  COMMITMENT  BY DIGITAL EQUIPMENT CORPORATION.
;  
; DIGITAL ASSUMES NO RESPONSIBILITY  FOR  THE  USE  OR
; RELIABILITY  OF  ITS  SOFTWARE  ON EQUIPMENT THAT IS
; NOT SUPPLIED BY DIGITAL.
;  
; VERSION 04
;
; D.N. CUTLER 18-NOV-72
;
; MODIFIED:
;
;	S. RUZICH	4-MAR-81
;
;		SR113 - GIVE .PSECT $$RESL READ-ONLY ATTRIBUTE
;
;+
; **-$SAVRG-SAVE/RESTORE NONVOLITILE REGISTERS
;
; JSR R5,$SAVRG
;-

	.PSECT	$$RESL,RO
$SAVRG::MOV	R4,-(SP)	;SAVE R4 AND R3
	MOV	R3,-(SP)	;
	MOV	R5,-(SP)	;PUT RETURN ADDRESS ON STACK
	MOV	6(SP),R5	;RETRIEVE REAL R5
	CALL	@(SP)+		;CALL THE CALLER
	MOV	(SP)+,R3	;RESTORE NONVOLITILE REGISTERS
	MOV	(SP)+,R4	;
	MOV	(SP)+,R5	;
	RETURN			;

	.END
