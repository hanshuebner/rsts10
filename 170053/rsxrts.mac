TITLE	RSXRTS,<RSX RUN-TIME SYSTEM>,05,29-AUG-85,SSS/MJG/KPH

;
;		COPYRIGHT (c) 1974, 1985 BY
;	DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
;
; THIS SOFTWARE IS FURNISHED UNDER A LICENSE AND MAY BE USED AND  COPIED
; ONLY  IN  ACCORDANCE  WITH  THE  TERMS  OF  SUCH  LICENSE AND WITH THE
; INCLUSION OF THE ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE OR  ANY  OTHER
; COPIES  THEREOF MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE TO ANY
; OTHER PERSON.  NO TITLE TO AND OWNERSHIP OF  THE  SOFTWARE  IS  HEREBY
; TRANSFERRED.
;
; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE  WITHOUT  NOTICE
; AND  SHOULD  NOT  BE  CONSTRUED  AS  A COMMITMENT BY DIGITAL EQUIPMENT
; CORPORATION.
;
; DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE  OR  RELIABILITY  OF ITS
; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DIGITAL.
;

	.PSECT

.ENABL	GBL,AMA

.SBTTL	START AT THE BEGINNING...

;	THIS MODULE MUST BE LINKED FIRST TO ENSURE RTSORG IS AT THE
;	LOWEST ADDRESS IN THE . BLK. PSECT.  THIS IS USED FOR CAL-
;	CULATIONS IN RSXRUN, RSXSST, AND WHEN MAKING THE SIL FILE.

RTSORG::				;LOWEST ADDRESS OF RUN-TIME SYSTEM

	.PSECT	.99998

.SBTTL	DEFINE EXTSCT PATCH AREA

PATCH::					;START OF EXTSCT PATCH AREA

	.PSECT	.99999

..RTS::

.SBTTL	VECTORS NEEDED BY RSTS MONITOR

;	THESE VECTORS ARE LOADED IN A SECTION WHICH IS AT THE
;	TOP END OF THE COLLATING SEQUENCE, WHICH INSURES THAT IT
;	WILL BE LOADED AT THE VERY TOP OF CORE.

O.DEXT==^RTSK				;DEFAULT EXTENSION
O.ISIZ==1.				;INITIAL SIZE FOR USER (HISTORICAL ONLY)
O.MSIZ==1.				;MINIMUM SIZE FOR USER
O.SIZE==28.				;MAXIMUM SIZE OF USER IMAGE

	O.FLAG				;RTS FLAGS
	O.DEXT
	O.ISIZ
	O.MSIZ
	..FIS				;FIS EXCEPTION ADDRESS		-->SST
	0				;'CRASH' ENTRY POINT		
	0				;'START' ENTRY POINT		
	..NEW				;'NEW' ENTRY POINT		-->KBM
	..RUN				;'RUN' ENTRY POINT		-->RUN
	..BAD				;TRAP THRU 4, 10, 250, ETC.	-->SST
	..BPT				;BPT TRAP ADDRESS		-->SST
	..IOT				;IOT TRAP ADDRESS		-->SST
	..EMT				;EMT TRAP ADDRESS		-->SST
	..TRAP				;TRAP TRAP ADDRESS		-->SST
	..FPP				;FPP EXCEPTION ADDRESS		-->AST
	..CC				;CONTROL C TRAP			-->AST
	..2CC				;TWO CONTROL C'S EXIT		-->AST
	O.SIZE

	TMPORG	RSXRTS

; All errors are fatal... we don't handle traps

..RUN:
..T4:	
..T250:	
..BPT:	
..IOT:	
..T10:	
..EMT:	
..TRAP:
..FIS:	
..BAD:

	MOV	#-1,NSTORG		;JAM THE STACK GUARD WORD
	CALLRX	..ERR			;FATAL ERROR

.END	RTSORG
