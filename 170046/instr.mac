TITLE	INSTR$,<LOCATE CHARACTER IN STRING>,0A,10-MAY-91,ABC

;
;		COPYRIGHT (c) 1974, 1991 BY
;	DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
;
; THIS SOFTWARE IS FURNISHED UNDER A LICENSE AND MAY BE USED AND  COPIED
; ONLY  IN  ACCORDANCE  WITH  THE  TERMS  OF  SUCH  LICENSE AND WITH THE
; INCLUSION OF THE ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE OR  ANY  OTHER
; COPIES  THEREOF MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE TO ANY
; OTHER PERSON.  NO TITLE TO AND OWNERSHIP OF  THE  SOFTWARE  IS  HEREBY
; TRANSFERRED.
;
; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE  WITHOUT  NOTICE
; AND  SHOULD  NOT  BE  CONSTRUED  AS  A COMMITMENT BY DIGITAL EQUIPMENT
; CORPORATION.
;
; DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE  OR  RELIABILITY  OF ITS
; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DIGITAL.
;

;+
; INSTR$ - LOCATE A CHARACTER IN A STRING
;
; CALL:	R5 -> ASCIZ STRING
;	CALL	INSTR$,R4,<'CHARACTER>
;
; BACK:	R5 -> CHARACTER (IF FOUND) OR TERMINATING 0 BYTE (IF NOT)
;	CONDITION CODES SET ON CHARACTER
;	(I.E. BNE FOUND)
;-
.CSECT

INSTR$::TST	(R4)+		;ADVANCE OVER CHARACTER
10$:	TSTB	(R5)		;END OF STRING?
	BEQ	20$		;YES
	CMPB	(R5)+,-2(R4)	;IS IT THE CHARACTER?
	BNE	10$		;NO
	TSTB	-(R5)		;YES, POINT TO IT
20$:	RETURN	R4

.END

