.IIF	NDF	L$$IST,	.NLIST
.IIF	NDF	L$$IST,	.DSABL CRF
TITLE	DISKDF,<REGISTER DEFINITIONS>,0A,10-MAY-91,GW/ABC/AWL/GPK/AJK

;
;		COPYRIGHT (c) 1974, 1991 BY
;	DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
;
; THIS SOFTWARE IS FURNISHED UNDER A LICENSE AND MAY BE USED AND  COPIED
; ONLY  IN  ACCORDANCE  WITH  THE  TERMS  OF  SUCH  LICENSE AND WITH THE
; INCLUSION OF THE ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE OR  ANY  OTHER
; COPIES  THEREOF MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE TO ANY
; OTHER PERSON.  NO TITLE TO AND OWNERSHIP OF  THE  SOFTWARE  IS  HEREBY
; TRANSFERRED.
;
; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE  WITHOUT  NOTICE
; AND  SHOULD  NOT  BE  CONSTRUED  AS  A COMMITMENT BY DIGITAL EQUIPMENT
; CORPORATION.
;
; DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE  OR  RELIABILITY  OF ITS
; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DIGITAL.
;

.SBTTL	EDIT HISTORY FOR DSKDEF
;+
;
;  000	RRF  06-MAR-81	CREATION - COPIED FROM V7.0-07
;  001	AWL  06-MAR-82	CREATION - COPIED FROM V7.1-11
;  002	AWL  06-MAR-82	Added offset fot 5th RLV12 register
;  003  AJK  27-JUL-82  CHANGED OFFSET OF DSQBBH TO = TO DSQSAV
;  004  GPK  30-Jun-82	Updated MSCPDF portion
;  005  AJK  18-FEB-83  Removed MSCP definitions and renamed this module
;			to DISKDF.MAC.  At base level time MSCPDF and DISKDF
;			are murged together to produce [170,42]DSKDEF.MAC.
;
;			[RSTS/E V9.4]
;  006	GPK  25-Aug-86	Added DZ (GPK RX50), DW
;-

.SBTTL	DBDEF:RH11/RP04

;   REGISTER OFFSETS

.DSECT	,NOCREF

	.BLKW			;CONTROL
RHWC:	.BLKW			;WORD COUNT
RHBA:	.BLKW			;BUS ADDRESS
RBDA:	.BLKW			;DESIRED SECTOR/TRACK ADDRESS
RHCS2:	.BLKW			;STATUS
RHDS:	.BLKW			;DRIVE STATUS
RHER:	.BLKW			;ERROR REGISTER 1
RHAS:	.BLKW			;ATTENTION SUMMARY
	.BLKW			;LOOK AHEAD
	.BLKW			;DATA BUFFER
	.BLKW			;MAINTENANCE
	.BLKW			;DRIVE TYPE
	.BLKW			;SERIAL NUMBER
RBOF:	.BLKW			;OFFSET
RBDC:	.BLKW			;DESIRED CYLINDER
RBCC:	.BLKW			;CURRENT CYLINDER
RBER2:	.BLKW			;ERROR REGISTER 2
RBER3:	.BLKW			;ERROR REGISTER 3
RBEC1:	.BLKW			;ECC POSITION
RBEC2:	.BLKW			;ECC PATTERN

;   CONTROL BIT ASSIGNMENTS

.BSECT	HIGH	,NOCREF

	.BLKB	.		;ADDRESS EXTENSION BIT 1
	.BLKB	.		;ADDRESS EXTENSION BIT 2
	.BLKB	.		;PORT SELECT
	.BLKB	.		;DRIVE AVAILABLE
	.BLKB	.		;UNUSED
RHMCPE:	.BLKB	.		;MASSBUS CONTROL PARITY ERROR
RHTRE:	.BLKB	.		;TRANSFER ERROR
RHSC:	.BLKB	.		;SPECIAL CONDITION

;   CS2 BIT ASSIGNMENTS

.BSECT	,NOCREF

	.BLKB	.		;UNIT BIT 1
	.BLKB	.		;UNIT BIT 2
	.BLKB	.		;UNIT BIT 3
	.BLKB	.		;BUS ADDRESS INCREMENT INHIBIT
	.BLKB	.		;PARITY TEST
RHCLR:	.BLKB	.		;CONTROLLER CLEAR
	.BLKB	.		;INPUT READY
	.BLKB	.		;OUTPUT READY
	.BLKB	.		;MASSBUS DATA PARITY ERROR
	.BLKB	.		;MISSED TRANSFER
	.BLKB	.		;PROGRAM ERROR
RHNEM:	.BLKB	.		;NON EXISTENT MEMORY
RHNED:	.BLKB	.		;NON EXISTENT DRIVE
	.BLKB	.		;UNIBUS PARITY ERROR
	.BLKB	.		;WRITE CHECK
	.BLKB	.		;DATA LATE

;   DRIVE STATUS BIT ASSIGNMENTS

.BSECT	,NOCREF

	.BLKB	.		;5 IN/SEC
	.BLKB	.		;20 IN/SEC
	.BLKB	.		;DRIVE TO INNER GUARD
	.BLKB	.		;GO REVERSE
	.BLKB	.		;DIFFERENCE LESS THAN 64
	.BLKB	.		;DIFFERENCE EQUALS 1
RBVV:	.BLKB	.		;VOLUME VALID
RHDRY:	.BLKB	.		;DRIVE READY
RHDPR:	.BLKB	.		;DRIVE PRESENT
RBPGM:	.BLKB	.		;PROGRAMABLE
	.BLKB	.		;LAST SECTOR TRANSFERED
	.BLKB	.		;WRITE LOCKED
RHMOL:	.BLKB	.		;MEDIUM ON LINE
RHPIP:	.BLKB	.		;POSITIONING IN PROGRESS
RHERR:	.BLKB	.		;ERROR
RHATA:	.BLKB	.		;ATTENTION ACTIVE

;   ERROR REGISTER 1 BIT ASSIGNMENTS

.BSECT	,NOCREF

RHILF:	.BLKB	.		;ILLEGAL FUNCTION
RHILR:	.BLKB	.		;ILLEGAL REGISTER
RHRMR:	.BLKB	.		;REGISTER MODIFICATION REFUSED
	.BLKB	.		;PARITY ERROR
	.BLKB	.		;FORMAT ERROR
	.BLKB	.		;WRITE CLOCK FAILED
RBECH:	.BLKB	.		;HARD ERROR
RBHCRC:	.BLKB	.		;HEADER COMPARE ERROR
RBHCE:	.BLKB	.		;HEADER CRC ERROR
RBAO:	.BLKB	.		;ADDRESS OVERFLOW
RBIAE:	.BLKB	.		;INVALID ADDRESS
RBWLE:	.BLKB	.		;WRITE LOCKED
RBDTE:	.BLKB	.		;DRIVE TIMING
	.BLKB	.		;OPERATION INCOMPLETE
RHUNS:	.BLKB	.		;UNSAFE
RBDCK:	.BLKB	.		;DATA CHECK

.SBTTL	DZDEF:RX50							;006+

;+
; RX50 notes:
;
;	Drives/control	1 -or- 2
;	Disk/drive	2
;	Surfaces/disk	2
;	Tracks/surface	80
;	Sectors/track	10
;-

;+
; Register offsets
;-

.DSECT

RX5ID:	.BLKW			; [R-O] GPK bus ID
	.BLKW
RX5CS0:	.BLKW			;  [R]  Status; [W] Command
RX5CS1:	.BLKW			;  [R]  Status; [W] Command
RX5CS2:	.BLKW			;  [R]  Status; [W] Command
RX5CS3:	.BLKW			;  [R]  Status; [W] **Unused**
RX5CS4:	.BLKW			;  [R]  Status; [W] **Unused**
RX5CS5:	.BLKW			;  [R]	Status; [W] Extended function
RX5EB:	.BLKW			; [R-O] Empty data buffer (Reads)
RX5CA:	.BLKW			; [W-O] Clear silo pointer
RX5GO:	.BLKW			; [W-O] Initiate command in RX5CS0 (i.e., GO)
RX5FB:	.BLKW			; [W-O] Fill data buffer (Writes)

; WRITE bit definitions in RX5CS0

.BSECT

RXSDE:	.BLKB	.		; Side select
RXUNT:	.BLKB	.		; Unit select
RXDRV:	.BLKB	.		; Drive select
RXTMO:	.BLKB	.		; Extended motor timeout
RXFUN:	.BLKB	160		; Function
	.BLKB	.

; Function code values in RXFUN of RX5CS0

.DSECT

RXRDST:	.BLKB	RXFUN		; Read status
RXMAIN:	.BLKB	RXFUN		; Maintenance mode
RXRSTR:	.BLKB	RXFUN		; Restore
RXINIT:	.BLKB	RXFUN		; Initialize
RXREAD:	.BLKB	RXFUN		; Read data
RXRRTY:	.BLKB	RXFUN		; Read w/ retries
RXRADR:	.BLKB	RXFUN		; Read address
RXWRIT:	.BLKB	RXFUN		; Write data

; READ bit definitions in RX5CS0

.BSECT

RXSDE:	.BLKB	.		; Side used
RXUNT:	.BLKB	.		; Unit used
RXDRV:	.BLKB	.		; Drive used
RXDNE:	.BLKB	.		; Done
RXFUN:	.BLKB	160		; Function used
RXERR:	.BLKB	.		; Error

; READ error code values in RX5CS1 iff RXERR in RX5CS0

.EQUATE	RXNDRV,	030		; No drives in system
.EQUATE	RXBTRK,	040		; Bad trak number
.EQUATE	RXBSID,	110		; Bad side number
.EQUATE	RXICRC,	140		; ID CRC error
.EQUATE	RXDRQ,	160		; Data overrun
.EQUATE	RXSID,	170		; Soft ID read error
.EQUATE	RXCRC,	200		; Data CRC error


.SBTTL	DWDEF:RD5x

;+
; Register offsets
;-

.DSECT

RD5ID:	.BLKW			; [R-O] GPK bus ID
	.BLKW
RD5ERR:	.BLKW			;  [R]  Error status;	[W] Precomp
RD5SEC:	.BLKW			; [R/W] Sector number
RD5DAT:	.BLKW			; [R/W] Data register
RD5CYL:	.BLKW			; [R/W] Cylinder number
RD5TRK:	.BLKW			; [R/W] Track number
RD5ST2:	.BLKW			;  [R]	Status 2;	[W] Command
RD5STS:	.BLKW			;  [R]	Status;		[W] Init

; Error bit definitions in RD5ERR

.BSECT	,HIGH
RDDMER:	.BLKB	.		;Data mark not found
RDT0ER:	.BLKB	.		;Track 0 not found
RDILCM:	.BLKB	.		;Illegal command
	.BLKB	.		;Unused
RDNFND:	.BLKB	.		;ID not found
RDHCRC:	.BLKB	.		;Header CRC error
RDDCRC:	.BLKB	.		;Data CRC error
	.BLKB	.		;Unused

; Command codes in RD5ST2

.DSECT	20
RDREST:	.BLKB	20		;Restore
RDREAD:	.BLKB	20		;Read
RDWRIT:	.BLKB	20		;Write
	.BLKB	20		;Not used
RDFMT:	.BLKB	20		;Format

; Secondary status bits in RD5ST2

.BSECT	,HIGH
RDERS:	.BLKB	.		;Error summary
	.BLKB	.		;Unused
	.BLKB	.		;Unused
RDDATR:	.BLKB	.		;Data request
RDSKDN:	.BLKB	.		;Seek done
RDWRTF:	.BLKB	.		;Write fault (you're dead!)
RDRDY:	.BLKB	.		;Drive ready
	.BLKB	.		;Unused

; Status bits in RD5STS

.BSECT
RDEND:	.BLKB	.		;Operation ended (all done)
	.BLKB	.		;Unused
	.BLKB	.		;Unused
RDRSET:	.BLKB	.		;Reset/initialize (write-only)
	.BLKB	.		;Unused
	.BLKB	.		;Unused
	.BLKB	.		;Unused
RDDRQ:	.BLKB	.		;Data transfer request
RD50:	.BLKB	.		;RD50 flag (0 = something else)
	.BLKB	.		;Unused
	.BLKB	.		;Unused
	.BLKB	.		;Unused
	.BLKB	.		;Unused
	.BLKB	.		;Unused
	.BLKB	.		;Unused
RDBSY:	.BLKB	.		;Busy					;006-


.SBTTL	DCDEF:RC11

;   REGISTER OFFSETS

.DSECT	-6	,NOCREF

RCLA:	.BLKW			;LOOK AHEAD
RCDA:	.BLKW			;DISK ADDRESS
	.BLKW			;ERROR STATUS
	.BLKW			;COMMAND AND STATUS
	.BLKW			;WORD COUNT
RCMA:	.BLKW			;CURRENT ADDRESS
RCMN:	.BLKW			;MAINTENANCE
	.BLKW			;DATA BUFFER

;   CONTROL REGISTER BIT ASSIGNMENTS

.BSECT	,NOCREF

	.BLKB	.		;GO
	.BLKB	.		;FUNCTION BIT 1
	.BLKB	.		;FUNCTION BIT 2
	.BLKB	.		;MODE
	.BLKB	.		;EXTENDED MEMORY BIT 1
	.BLKB	.		;EXTENDED MEMORY BIT 2
	.BLKB	.		;INTERRUPT ENABLE
	.BLKB	.		;READY
RCAB:	.BLKB	.		;ABORT
	.BLKB	.		;INHIBIT CA INCREMENT
	.BLKB	.		;WRITE CHECK ERROR
RCNED:	.BLKB	.		;NON EXISTENT DISK
RCWL:	.BLKB	.		;WRITE LOCKED
	.BLKB	.		;ADDRESS ERROR
	.BLKB	.		;DATA ERROR
	.BLKB	.		;SPECIAL CONDITION

.SBTTL	DFDEF:RF11

;   REGISTER OFFSETS

.DSECT	,NOCREF

RFCS:	.BLKW			;CONTROL STATUS
	.BLKW			;WORD COUNT
	.BLKW			;CURRENT MEMORY ADDRESS
RFDAR:	.BLKW			;DISK ADDRESS
RFDAE:	.BLKW			;EXTENDED DISK ADDRESS AND ERROR
	.BLKW			;DATA BUFFER
	.BLKW			;MAINTENANCE
RFADS:	.BLKW			;ADDRESS OF DISK SEGMENT

;   CONTROL STATUS BIT ASSIGNMENTS

.BSECT	,NOCREF

	.BLKB	.		;GO
	.BLKB	.		;FUNCTION REGISTER BIT 1
	.BLKB	.		;FUNCTION REGISTER BIT 2
	.BLKB	.		;MAINTENANCE
	.BLKB	.		;EXTENDED MEMORY BIT 1
	.BLKB	.		;EXTENDED MEMORY BIT 2
	.BLKB	.		;INTERRUPT ENABLE
	.BLKB	.		;CONTROL READY
RFCLR:	.BLKB	.		;DISK CLEAR
	.BLKB	.		;MISSED TRANSFER
RFWLO:	.BLKB	.		;WRITE LOCKED OUT
RFNED:	.BLKB	.		;NON EXISTENT DRIVE
	.BLKB	.		;DATA PARITY ERROR
	.BLKB	.		;WRITE CHECK ERROR
	.BLKB	.		;FREEZE
	.BLKB	.		;ERROR

.SBTTL	DKDEF:RK11

;   REGISTER OFFSETS

.DSECT	-4	,NOCREF

RKDS:	.BLKW			;DRIVE STATUS
RKER:	.BLKW			;ERROR
	.BLKW			;CONTROL STATUS
RKWC:	.BLKW			;WORD COUNT
RKMA:	.BLKW			;BUS ADDRESS
RKDA:	.BLKW			;DISK ADDRESS
	.BLKW			;DATA BUFFER

;   DRIVE STATUS BIT ASSIGNMENTS

.BSECT	,NOCREF

	.BLKB	.		;SECTOR COUNT BIT 1
	.BLKB	.		;SECTOR COUNT BIT 2
	.BLKB	.		;SECTOR COUNT BIT 3
	.BLKB	.		;SECTOR COUNT BIT 4
	.BLKB	.		;SC=SA
RKWPS:	.BLKB	.		;WRITE PROTECT STATUS
RKARY:	.BLKB	.		;READ/WRITE/SEEK/READY
RKDRY:	.BLKB	.		;DRIVE READY
	.BLKB	.		;SECTOR COUNT OK
RKSIN:	.BLKB	.		;SEEK INCOMPLETE
RKDRU:	.BLKB	.		;DRIVE UNSAFE
	.BLKB	.		;RK05
RKDPL:	.BLKB	.		;DRIVE POWER LOW
	.BLKB	.		;DRIVE IDENT BIT 1
	.BLKB	.		;DRIVE IDENT BIT 2
	.BLKB	.		;DRIVE IDENT BIT 3

;   ERROR REGISTER BIT ASSIGNMENTS

.BSECT	,NOCREF

	.BLKB	.		;WRITE CHECK
	.BLKB	.		;CHECKSUM ERROR
	.BLKB	.		;UNUSED
	.BLKB	.		;UNUSED
	.BLKB	.		;UNUSED
RKNXS:	.BLKB	.		;NON EXISTENT SECTOR
RKNXC:	.BLKB	.		;NON EXISTENT CYLINDER
RKNXD:	.BLKB	.		;NON EXISTENT DRIVE
	.BLKB	.		;TIMING ERROR
	.BLKB	.		;DATA LATE
RKNXM:	.BLKB	.		;NON EXISTENT MEMORY
	.BLKB	.		;PROGRAMMING ERROR
RKSKE:	.BLKB	.		;SEEK ERROR
RKWLO:	.BLKB	.		;WRITE LOCK OUT
RKOVR:	.BLKB	.		;OVERRUN
RKDRE:	.BLKB	.		;DRIVE ERROR

;   CONTROL REGISTER BIT ASSIGNMENTS

.BSECT	,NOCREF

	.BLKB	.		;GO
	.BLKB	.		;FUNCTION BIT 1
	.BLKB	.		;FUNCTION BIT 2
	.BLKB	.		;FUNCTION BIT 3
	.BLKB	.		;MEMORY EXTENSION BIT 1
	.BLKB	.		;MEMORY EXTENSION BIT 2
	.BLKB	.		;INTERRUPT ENABLE
RKRY:	.BLKB	.		;READY
	.BLKB	.		;STOP ON SOFT ERROR
	.BLKB	.		;UNUSED
	.BLKB	.		;FORMAT
	.BLKB	.		;INHIBIT INCREMENT
	.BLKB	.		;UNUSED
RKSCP:	.BLKB	.		;SEARCH COMPLETE
RKHE:	.BLKB	.		;HARD ERROR
RKERR:	.BLKB	.		;ERROR

.SBTTL	DLDEF:RL01

; REGISTER OFFSETS

.DSECT	,NOCREF

RLCS:	.BLKW			;CONTROL STATUS REGISTER
RLBA:	.BLKW			;UNIBUS ADDRESS REGISTER
RLDA:	.BLKW			;DISK ADDRESS REGISTER
RLMP:	.BLKW			;MULTI-PURPOSE REGISTER
RLBE:	.BLKW			;BUS ADDRESS EXTENSION REGISTER

; CONTROL/STATUS  BIT ASSIGNMENTS (RLCS)

.BSECT	,NOCREF

RLDRDY:	.BLKB	.		;DRIVE READY
	.BLKB	.		;FUNCTION BIT 1
	.BLKB	.		;FUNCTION BIT 2
	.BLKB	.		;FUNCTION BIT 3
	.BLKB	.		;MEMORY EXTENSION BIT 1
	.BLKB	.		;MEMORY EXTENSION BIT 2
	.BLKB	.		;INTERRUPT ENABLE
	.BLKB	.		;CONTROLLER READY
	.BLKB	.		;UNIT SELECT BIT 1
	.BLKB	.		;UNIT SELECT BIT 2
	.BLKB	.		;OPERATION INCOMPLETE
	.BLKB	.		;DATA CHECK ERROR/HEADER CRC ERROR
	.BLKB	.		;DATA LATE ERROR/HEADER NOT FOUND ERROR
RLNXM:	.BLKB	.		;NON-EXISTANT MEMORY ERROR
RLDE:	.BLKB	.		;DRIVE ERROR

; FUNCTIONS

.DSECT	,NOCREF

	.BLKW			;NO-OPERATION
	.BLKW			;WRITE CHECK
RLGSTS:	.BLKW			;GET STATUS
RLSEEK:	.BLKW			;SEEK
RLRDH:	.BLKW			;READ HEADERS
	.BLKW			;WRITE DATA
	.BLKW			;READ DATA

; RLDA STATUS CODES

.BSECT	,NOCREF

RLMRK:	.BLKB	.		;MARKER BIT (SEEK, GET STATUS)
RLSTS:	.BLKB	.		;GET STATUS BIT (GET STATUS)
RLSN:	.BLKB	.		;PLUS SIGN BIT (SEEK)
RLRST:	.BLKB	.		;DRIVE RESET BIT (GET STATUS)
RLHS:	.BLKB	.		;HEAD SELECT BIT (SEEK)
	.BLKB	.
	.BLKB	.		;HEAD SELECT BIT (READ, WRITE, WCHECK)
RLREV=	200!RLMRK		;DIFFERENCE WORD FOR 1 CYL REVERSE SEEK

; RLMP GET STATUS BIT ASSIGNMENTS

.BSECT	,NOCREF

	.BLKB	.		;STATE BIT 1
	.BLKB	.		;STATE BIT 2
	.BLKB	.		;STATE BIT 3
RLSLM=	5			;DRIVE IN SEEK LINEAR MODE
RLBH:	.BLKB	.		;BRUSHES HOME
RLHH:	.BLKB	.		;HEADS HOME
	.BLKB	.		;COVER OPEN
RLHSS:	.BLKB	.		;HEAD SELECT STATUS
RLDT:	.BLKB	.		;DRIVE TYPE (RL01 = 0)
	.BLKB	.		;DRIVE SELECT ERROR
	.BLKB	.		;VOLUME CHECK
RLWGE:	.BLKB	.		;WRITE GATE ERROR
	.BLKB	.		;SPEED ERROR
	.BLKB	.		;SEEK TIME-OUT
RLWLS:	.BLKB	.		;WRITE LOCK STATUS
	.BLKB	.		;HEAD CURRENT ERROR
	.BLKB	.		;WRITE DATA ERROR


; DEVICE CONSTANTS


RLWPT=	256.*20.		;WORDS PER TRACK

.SBTTL	DMDEF:RK611

;   DEVICE REGISTER OFFSETS

.DSECT	,NOCREF

RMCS1:	.BLKW			;CONTROL STATUS REGISTER 1
RMWC:	.BLKW			;WORD COUNT
	.BLKW			;BUS ADDRESS
RMDA:	.BLKW			;DISK ADDRESS
RMCS2:	.BLKW			;CONTROL STATUS REGISTER 2
RMDS:	.BLKW			;DRIVE STATUS
RMER:	.BLKW			;ERROR REGISTER
RMASOF:	.BLKW			;OFFSET/ATTENTION REGISTER
RMDCY:	.BLKW			;DESIRED CYLINDER
	.BLKW			;UNUSED
	.BLKW			;DATA BUFFER
	.BLKW			;MAINTAINCE REGISTER 1
RMECPS:	.BLKW			;ECC POSITION
RMECPT:	.BLKW			;ECC PATTERN
	.BLKW			;MAINTENANCE REGISTER 2
	.BLKW			;MAINTENANCE REGISTER 3

;   RMCS1 BIT ASSIGNMENTS

.BSECT	,NOCREF

	.BLKB	.		;GO
	.BLKB	.		;FUNCTION CODE BIT 1
	.BLKB	.		;FUNCTION CODE BIT 2
	.BLKB	.		;FUNCTION CODE BIT 3
	.BLKB	.		;FUNCTION CODE BIT 4
	.BLKB	.		;SPARE
RMIE:	.BLKB	.		;INTERRUPT ENABLE
RMRDY:	.BLKB	.		;CONTROLLER READY
	.BLKB	.		;BUS ADDRESS BIT 16
	.BLKB	.		;BUS ADDRESS BIT 17
RMCDT:	.BLKB	.		;CONTROLLER DRIVE TYPE
RMCTO:	.BLKB	.		;CONTROLLER TIME OUT ERROR
	.BLKB	.		;CONTROLLER FORMAT
RMSPAR:	.BLKB	.		;SERIAL PARITY ERROR
	.BLKB	.		;DRIVE INTERRUPT
RMCCLR:	.BLKB	.		;CONTROLLER CLEAR/ERROR

;   RMCS2 BIT ASSIGNMENTS

.BSECT	,NOCREF

	.BLKB	.		;DRIVE SELECT BIT 0
	.BLKB	.		;DRIVE SELECT BIT 1
	.BLKB	.		;DRIVE SELECT BIT 2
	.BLKB	.		;RELEASE
	.BLKB	.		;BUS ADDRESS INCREMENT INHIBIT
RMSCLR:	.BLKB	.		;SUBSYSTEM CLEAR
	.BLKB	.		;INPUT READY
	.BLKB	.		;OUTPUT READY
RMUFE:	.BLKB	.		;UNIT FIELD ERROR
RMMDS:	.BLKB	.		;MULTIPLE DRIVE SELECT
RMPGE:	.BLKB	.		;PROGRAMMING ERROR
RMNEM:	.BLKB	.		;NON EXISTENT MEMORY
RMNED:	.BLKB	.		;NO EXISTENT DRIVE
RMUPE:	.BLKB	.		;UNIBUS PARITY ERROR
RMWCE:	.BLKB	.		;WRITE CHECK ERROR
RMDLT:	.BLKB	.		;DATA LATE ERROR

;   RMDS BIT ASSIGNMENTS

.BSECT	,NOCREF

RMDRA:	.BLKB	.		;DRIVE AVAILABLE
	.BLKB	.		;UNUSED
	.BLKB	.		;OFFSET
	.BLKB	.		;DRIVE AC LOW
	.BLKB	.		;DRIVE DC LOW
	.BLKB	.		;DRIVE OFF TRACK
RMVV:	.BLKB	.		;VOLUME VALID
RMDRDY:	.BLKB	.		;DRIVE READY
	.BLKB	.		;DRIVE'S DRIVE TYPE
	.BLKB	.		;UNUSED
	.BLKB	.		;UNUSED
	.BLKB	.		;WRITE LOCKED
	.BLKB	.		;UNUSED
RMPIP:	.BLKB	.		;POSITIONING IN PROGRESS
	.BLKB	.		;DRIVE STATUS CHANGE
RMSVAL:	.BLKB	.		;STATUS VALID

;  RMER BIT ASSIGNMENTS

.BSECT	,NOCREF

RMILF:	.BLKB	.		;ILLEGAL FUNCTION
	.BLKB	.		;SEEK INCOMPLETE
	.BLKB	.		;NON EXECUTABLE FUNCTION
	.BLKB	.		;DRIVE PARITY ERROR
	.BLKB	.		;FORMAT ERROR
RMDT:	.BLKB	.		;DRIVE TYPE ERROR
RMECH:	.BLKB	.		;ERROR CORRECTION HARD
RMBSE:	.BLKB	.		;BAD SECTOR ERROR
RMHVRC:	.BLKB	.		;HEADER VRC ERROR
RMCOE:	.BLKB	.		;CYLINDER OVERFLOW ERROR
RMIDAE:	.BLKB	.		;INVALID DISK ADDRESS
RMWLE:	.BLKB	.		;WRITE LOCK ERROR
RMDTE:	.BLKB	.		;DRIVE TIMING ERROR
	.BLKB	.		;OPERATION INCOMPLETE
RMUNS:	.BLKB	.		;DRIVE UNSAFE
	.BLKB	.		;DATA CHECK

;   COMMAND BIT ASSIGNMENTS

.BSECT	,NOCREF

RMSD:	.BLKB	2		;SELECT DRIVE
RMACK:	.BLKB	2		;PACK ACKNOWLEDGE
RMDC:	.BLKB	2		;DRIVE CLEAR
	.BLKB	2		;UNLOAD
	.BLKB	2		;START SPINDLE
	.BLKB	2		;RECALIBRATE
RMOF:	.BLKB	2		;OFFSET
RMSK:	.BLKB	2		;SEEK
RMRD:	.BLKB	2		;READ DATA
	.BLKB	2		;WRITE DATA
	.BLKB	2		;READ HEADER
	.BLKB	2		;WRITE HEADER
	.BLKB	2		;WRITE CHECK

.SBTTL	DPDEF:RP11C

;   REGISTER OFFSETS

.DSECT	-4	,NOCREF

RPDS:	.BLKW			;DEVIVE STATUS
RPER:	.BLKW			;ERROR
	.BLKW			;CONTROL STATUS
RPWC:	.BLKW			;WORD COUNT
RPMA:	.BLKW			;BUS ADDRESS
RPCA:	.BLKW			;CYLINDER ADDRESS
RPDA:	.BLKW			;DISK ADDRESS
	.BLKW			;MAINTENANCE 1
	.BLKW			;MAINTENANCE 2
	.BLKW			;MAINTENANCE 3
RPSUCA:	.BLKW			;SELECTED UNIT CYLINDER
	.BLKW			;SILO MEMORY

;   RPDS BIT ASSIGNMENTS

.BSECT	HIGH	,NOCREF

	.BLKB	.		;WRITE PROTECTED
RPFU:	.BLKB	.		;UNSAFE
RPSU:	.BLKB	.		;SEEK UNDERWAY
RPSI:	.BLKB	.		;SEEK INCOMPLETE
RPHNF:	.BLKB	.		;HEADER NOT FOUND
	.BLKB	.		;RP03
RPOL:	.BLKB	.		;ON LINE
	.BLKB	.		;READY

;   RPER BIT ASSIGNMENTS

.BSECT	,NOCREF

RPDER:	.BLKB	.		;DISK ERROR
RPEOP:	.BLKB	.		;END OF PACK
RPNEM:	.BLKB	.		;NON EXISTENT MEMORY
	.BLKB	.		;WRITE CHECK
	.BLKB	.		;TIMING ERROR
	.BLKB	.		;CHECKSUM ERROR
	.BLKB	.		;WORD PARITY ERROR
	.BLKB	.		;LONGITUDINAL PARITY ERROR
	.BLKB	.		;MODE ERROR
	.BLKB	.		;FORMAT ERROR
	.BLKB	.		;PROGRAM ERROR
RPNES:	.BLKB	.		;NON EXISTENT SECTOR
RPNET:	.BLKB	.		;NON EXISTENT TRACK
RPNEC:	.BLKB	.		;NON EXISTENT CYLINDER
RPSUFU:	.BLKB	.		;FILE UNSAFE VIOLATION
RPSUWP:	.BLKB	.		;WRITE PROTECTION VIOLATION

;   RPCS BIT ASSIGNMENTS

.BSECT	,NOCREF

	.BLKB	.		;GO
	.BLKB	.		;FUNCTION BIT 1
	.BLKB	.		;FUNCTION BIT 2
	.BLKB	.		;FUNCTION BIT 3
	.BLKB	.		;MEMORY EXTENSION BIT 1
	.BLKB	.		;MEMORY EXTENSION BIT 2
	.BLKB	.		;INTERRUPT ENABLE
RPRDY:	.BLKB	.		;READY
	.BLKB	.		;DRIVE SELECT BIT 1
	.BLKB	.		;DRIVE SELECT BIT 2
	.BLKB	.		;DRIVE SELECT BIT 3
	.BLKB	.		;HEADER
	.BLKB	.		;MODE
RPAIE:	.BLKB	.		;ATTENTION INTERRUPT ENABLE
	.BLKB	.		;HARD ERROR
RPERR:	.BLKB	.		;ERROR

.SBTTL	DSDEF:RH11

;   REGISTER OFFSETS

.DSECT	,NOCREF

RHCS1:	.BLKW			;CONTROL/STATUS 1
	.BLKW			;WORD COUNT
	.BLKW			;BUS ADDRESS
	.BLKW			;DESIRED BLOCK ADDRESS
RHCS2:	.BLKW			;CONTROL/STATUS 2
	.BLKW			;DRIVE STATUS
RHER:	.BLKW			;ERROR
RHAS:	.BLKW			;ATTENTION SUMMARY
	.BLKW			;LOOK AHEAD
	.BLKW			;DATA BUFFER
	.BLKW			;MAINTENANCE
RHDT:	.BLKW			;DRIVE TYPE

;   CONTROL/STATUS 2 BIT ASSIGNMENTS

.BSECT	,NOCREF

	.BLKB	.		;UNIT SELECT BIT 1
	.BLKB	.		;UNIT SELECT BIT 2
	.BLKB	.		;UNIT SELECT BIT 3
	.BLKB	.		;UNIBUS ADDRESS INCREMENT INHIBIT
	.BLKB	.		;PARITY TEST
RHCLR:	.BLKB	.		;CONTROLLER CLEAR
	.BLKB	.		;INPUT READY
	.BLKB	.		;OUTPUT READY
	.BLKB	.		;MASSBUS DATA BUS PARITY ERROR
	.BLKB	.		;MISS TRANSFER
	.BLKB	.		;PROGRAM ERROR
RHNEM:	.BLKB	.		;NON EXISTENT MEMORY
RHNED:	.BLKB	.		;NON EXISTENT DRIVE
	.BLKB	.		;PARITY ERROR
	.BLKB	.		;WRITE CHECK
	.BLKB	.		;DATA LATE

.EQUATE	RS03SZ,1024.,NOCREF
.EQUATE	RS04SZ,2048.,NOCREF

;   ERROR REGISTER BIT ASSIGNMENTS

.BSECT	,NOCREF
RHILF:	.BLKB	.		;ILLEGAL FUNCTION
RHILR:	.BLKB	.		;ILLEGAL REGISTER
RHRMR:	.BLKB	.		;REGISTER MODIFY REFUSED
	.BLKB	.		;BUS PARITY ERROR
	.BLKB	.		;UNUSED
	.BLKB	.		;UNUSED
	.BLKB	.		;UNUSED
	.BLKB	.		;UNUSED
	.BLKB	.		;UNUSED
RSAO:	.BLKB	.		;ADDRESS OVERFLOW
RSIAE:	.BLKB	.		;INVALID ADDRESS
RSWLE:	.BLKB	.		;WRITE LOCK
	.BLKB	.		;DRIVE TIMING
	.BLKB	.		;OPERATION INCOMPLETE
RHUNS:	.BLKB	.		;UNSAFE
	.BLKB	.		;DATA CHECK
.IIF	NDF	L$$IST,.LIST
.IIF	NDF	L$$IST,.ENABL	CRF
