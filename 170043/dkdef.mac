TITLE	DKDEF,<RK11/RK05/RK05F REGISTER DEFINITIONS>,0A,10-MAY-91,GW/VAM

;
;		COPYRIGHT (c) 1974, 1991 BY
;	DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
;
; THIS SOFTWARE IS FURNISHED UNDER A LICENSE AND MAY BE USED AND  COPIED
; ONLY  IN  ACCORDANCE  WITH  THE  TERMS  OF  SUCH  LICENSE AND WITH THE
; INCLUSION OF THE ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE OR  ANY  OTHER
; COPIES  THEREOF MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE TO ANY
; OTHER PERSON.  NO TITLE TO AND OWNERSHIP OF  THE  SOFTWARE  IS  HEREBY
; TRANSFERRED.
;
; THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE  WITHOUT  NOTICE
; AND  SHOULD  NOT  BE  CONSTRUED  AS  A COMMITMENT BY DIGITAL EQUIPMENT
; CORPORATION.
;
; DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE  OR  RELIABILITY  OF ITS
; SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DIGITAL.
;

.SBTTL	EDIT HISTORY FOR DKDEF
;+
;
;  000	RRF  06-MAR-81	CREATION - COPIED FROM V7.0-07
;  001  VAM  02-Apr-85	Add RKWCK
;
;-

; REGISTER OFFSETS

.DSECT	-4

RKDS:	.BLKW			;DRIVE STATUS
RKER:	.BLKW			;ERROR
RKCS:	.BLKW			;CONTROL/STATUS (CSR)
	.BLKW			;WORD COUNT
	.BLKW			;UNIBUS ADDRESS <15-0>
RKDA:	.BLKW			;DISK ADDRESS
	.BLKW			;DATA BUFFER

; DRIVE STATUS BIT ASSIGNMENTS (RKDS)

.DSECT	17

	.BLKB	1		;SECTOR COUNT
	.BLKB	.		;SC = SA
RKWPS:	.BLKB	.		;WRITE PROTECT STATUS
RKARY:	.BLKB	.		;READ/WRITE/SEEK/READY
RKDRY:	.BLKB	.		;DRIVE READY
	.BLKB	.		;SECTOR COUNT OK
RKSIN:	.BLKB	.		;SEEK INCOMPLETE
RKDRU:	.BLKB	.		;DRIVE UNSAFE
	.BLKB	.		;RK05
RKDPL:	.BLKB	150000		;DRIVE POWER LOW
	.BLKB	20000		;DRIVE IDENT

; ERROR BIT ASSIGNMENTS (RKER)

.BSECT

RKWCK:	.BLKB	.		;WRITE CHECK				;001
	.BLKB	.		;CHECKSUM ERROR
	.BLKB	.		;UNUSED
	.BLKB	.		;UNUSED
	.BLKB	.		;UNUSED
RKNXS:	.BLKB	.		;NON-EXISTENT SECTOR
RKNXC:	.BLKB	.		;NON-EXISTENT CYLINDER
RKNXD:	.BLKB	.		;NON-EXISTENT DRIVE
	.BLKB	.		;TIMING ERROR
	.BLKB	.		;DATA LATE
RKNXM:	.BLKB	.		;NON-EXISTENT MEMORY
	.BLKB	.		;PROGRAMMING ERROR
RKSKE:	.BLKB	.		;SEEK ERROR
RKWLO:	.BLKB	.		;WRITE LOCK OUT
RKOVR:	.BLKB	.		;OVERRUN
RKDRE:	.BLKB	.		;DRIVE ERROR

; CONTROL/STATUS BIT ASSIGNMENTS (RKCS)

.BSECT

	.BLKB	15		;GO
	.BLKB	42		;FUNCTION
	.BLKB	20		;UNIBUS ADDRESS <17-16>
	.BLKB	.		;INTERRUPT ENABLE
RKRY:	.BLKB	.		;READY
	.BLKB	.		;STOP ON SOFT ERROR
	.BLKB	.		;UNUSED
	.BLKB	.		;FORMAT
	.BLKB	.		;INHIBIT INCREMENT
	.BLKB	.		;UNUSED
RKSCP:	.BLKB	.		;SEARCH COMPLETE
RKHE:	.BLKB	.		;HARD ERROR
RKERR:	.BLKB	.		;ERROR

; FUNCTIONS

.DSECT

CRESET:	.BLKW			;CONTROL RESET
	.BLKW			;WRITE
	.BLKW			;READ
	.BLKW			;WRITE CHECK
SEEK:	.BLKW			;SEEK
	.BLKW			;READ CHECK
DRESET:	.BLKW			;DRIVE RESET
	.BLKW			;WRITE LOCK

