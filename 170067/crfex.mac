	.TITLE	CRFEX
	.IDENT	/01/

;
; COPYRIGHT   1974,  DIGITAL  EQUIPMENT  CORP.,  MAYNARD,   MASS.
;
; THIS SOFTWARE IS FURNISHED TO PURCHASER UNDER A LICENSE FOR USE
; ON A SINGLE COMPUTER SYSTEM  AND  CAN BE COPIED (WITH INCLUSION
; OF DEC'S COPYRIGHT NOTICE)  ONLY FOR USE IN SUCH SYSTEM, EXCEPT
; AS MAY OTHERWISE BE PROVIDED IN WRITING BY DEC.
;
; THE INFORMATION IN  THIS DOCUMENT IS  SUBJECT TO CHANGE WITHOUT
; NOTICE AND SHOULD NOT  BE CONSTRUED AS  A COMMITMENT BY DIGITAL
; EQUIPMENT CORPORATION.
;
; DEC ASSUMES  NO  RESPONSIBILITY  FOR  THE  USE  OR  RELIABILITY
; OF ITS  SOFTWARE  ON  EQUIPMENT  WHICH IS NOT  SUPPLIED BY DEC.
;
; VERSION 01
;
; C. MONIA 09-JAN-75
;
; MODIFICATIONS:
;
;		CM002 -- 05-NOV-75
;
;			 ADD MACRO CREF
;
;
; CLOSE ALL CREF FILES
;
; MACRO LIBRARY CALLS
;

	.MCALL	CLOSE$

;+
; **-$CRFEX-CLOSE CREF FILES
;
; THIS SUBROUTINE IS CALLED TO CLOSE ALL CREF FILES
; WHENEVER A CREF OPERATION IS COMPLETE.
;
;-

$CRFEX::			;
 
	.IF NDF	R$$11M
 
	CLOSE$	#$CREDB		; CLOSE ERROR MESSAGE FILE
 
	.ENDC
 
	CLOSE$	#$CRIDB		; CLOSE CREF INPUT FILE
	CLOSE$	#$CRODB		; CLOSE CREF OUTPUT FILE
	CLOSE$	#$CRSDB		; CLOSE FILE FOR SPECIAL DEVICE
	CLOSE$	$WRKPT		; CLOSE WORK FILE
	RETURN			;

	.END
