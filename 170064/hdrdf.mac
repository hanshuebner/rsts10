	.IIF NDF S$$YDF , .NLIST

;
; COPYRIGHT (c) 1984, 1985, 1986 
; DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
;
; THIS SOFTWARE IS FURNISHED UNDER A LICENSE FOR USE ONLY ON A
; SINGLE COMPUTER SYSTEM AND MAY  BE  COPIED   ONLY  WITH  THE
; INCLUSION OF THE ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE,  OR
; ANY OTHER COPIES THEREOF, MAY NOT BE PROVIDED  OR  OTHERWISE
; MADE AVAILABLE TO ANY OTHER PERSON   EXCEPT FOR  USE ON SUCH
; SYSTEM AND TO ONE WHO AGREES TO THESE LICENSE  TERMS.  TITLE
; TO AND OWNERSHIP OF THE SOFTWARE SHALL AT ALL  TIMES  REMAIN
; IN DEC.
;
; THE INFORMATION IN THIS DOCUMENT IS SUBJECT TO CHANGE WITHOUT
; NOTICE AND SHOULD NOT BE CONSTRUED AS A COMMITMENT BY DIGITAL
; EQUIPMENT CORPORATION.
;
; DEC ASSUMES NO RESPONSIBILITY FOR THE USE OR RELIABILITY OF
; ITS SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DEC.
;

; PREVIOUSLY MODIFIED BY:
;
;	B. S. MCCARTHY
;
; MODIFIED BY:
;
;
;	K. L. NOEL	11-DEC-86
;
;		KLN028 -- ADD POINTER TO HEADER EXT. FOR RUN TIME BINDING
;	
;
	.MACRO	HDRDF$,L,B

;+
; TASK HEADER OFFSET DEFINITIONS
;-

	.ASECT
.=0
H.CSP:'L'.BLKW	1		;CURRENT STACK POINTER
H.HDLN:'L'.BLKW	1		;HEADER LENGTH IN BYTES
H.SMAP:'L'.BLKB	1		;SUPERVISOR D SPACE OVERMAP MASK
H.DMAP:'L'.BLKB 1		;USER D SPACE OVERMAP MASK
H.FMAP:'L'.BLKW	1		;POINTER TO FAST MAP SECTION OF HDR
H.CUIC:'L'.BLKW	1		;CURRENT TASK UIC
H.DUIC:'L'.BLKW	1		;DEFAULT TASK UIC
H.IPS:'L'.BLKW	1		;INITIAL PROCESSOR STATUS WORD (PS)
H.IPC:'L'.BLKW	1		;INITIAL PROGRAM COUNTER (PC)
H.ISP:'L'.BLKW	1		;INITIAL STACK POINTER (SP)
H.ODVA:'L'.BLKW	1		;ODT SST VECTOR ADDRESS
H.ODVL:'L'.BLKW	1		;ODT SST VECTOR LENGTH
H.TKVA:'L'.BLKW	1		;TASK SST VECTOR ADDRESS
H.TKVL:'L'.BLKW	1		;TASK SST VECTOR LENGTH
H.PFVA:'L'.BLKW	1		;POWER FAIL AST CONTROL BLOCK ADDRESS
H.FPVA:'L'.BLKW	1		;FLOATING POINT AST CONTROL BLOCK ADDRESS
H.RCVA:'L'.BLKW	1		;RECIEVE AST CONTROL BLOCK ADDRESS
H.EFSV:'L'.BLKW	1		;EVENT FLAG ADDRESS SAVE ADDRESS
H.FPSA:'L'.BLKW	1		;POINTER TO FLOATING POINT/EAE SAVE AREA
H.WND:'L'.BLKW	1		;POINTER TO NUMBER OF WINDOW BLOCKS
H.DSW:'L'.BLKW	1		;TASK DIRECTIVE STATUS WORD
H.FCS:'L'.BLKW	1		;FCS IMPURE POINTER
H.FORT:'L'.BLKW	1		;FORTRAN IMPURE POINTER
H.OVLY:'L'.BLKW	1		;OVERLAY IMPURE POINTER
H.VEXT:'L'.BLKW	1		;WORK AREA EXTENSION VECTOR POINTER
H.SPRI:'L'.BLKB	1		;PRIORITY DIFFERENCE FOR SWAPPING
H.NML:'L'.BLKB	1		;NETWORK MAILBOX LUN
H.RRVA:'L'.BLKW	1		;RECEIVE BY REFERENCE AST CONTROL BLOCK ADDRESS
H.X25:'L'.BLKB	1		;FOR USE BY X25 SOFTWARE
	.BLKB	1		;3 RESERVED BYTES
	.BLKW	1		;
H.LUTE:'L'.BLKW	1		;POINTER TO LUT EXTENSION OF HEADER
H.GARD:'L'.BLKW	1		;POINTER TO HEADER GUARD WORD
H.NLUN:'L'.BLKW	1		;NUMBER OF LUN'S
H.LUN:'L'.BLKW	2		;START OF LOGICAL UNIT TABLE


;+
; LENGTH OF FLOATING POINT SAVE AREA
;-

H.FPSL='B'25.*2			;

;+
; WINDOW BLOCK OFFSETS
;-

.=0
W.BPCB:'L'.BLKW	1		;PARTITION CONTROL BLOCK ADDRESS
W.BLVR:'L'.BLKW	1		;LOW VIRTUAL ADDRESS LIMIT
W.BHVR:'L'.BLKW	1		;HIGH VIRTUAL ADDRESS LIMIT
W.BATT:'L'.BLKW	1		;ADDRESS OF ATTACHMENT DESCRIPTOR
W.BSIZ:'L'.BLKW	1		;SIZE OF WINDOW IN 32W BLOCKS
W.BOFF:'L'.BLKW	1		;PHYSICAL MEMORY OFFSET IN 32W BLOCKS
W.BFPD:'L'.BLKB	1		;FIRST PDR ADDRESS
W.BNPD:'L'.BLKB	1		;NUMBER OF PDR'S TO MAP
W.BLPD:'L'.BLKW	1		;CONTENTS OF LAST PDR
W.BLGH:'L'			;LENGTH OF WINDOW DESCRIPTOR

;
; BIT DEFINITION FOR W.BLPD
;

WB.NBP='B'20			;CACHE BYPASS IS NOT DESIRED FOR THIS WINDOW
WB.BPS='B'40			;ALWAYS BYPASS THE CACHE FOR THIS WINDOW


	.PSECT

	.MACRO	HDRDF$	X,Y
	.ENDM
	.ENDM

	.IIF NDF S$$YDF , .LIST
