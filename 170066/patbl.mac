	.TITLE	PATBL
	.IDENT	/02.02/
;
;
;		COPYRIGHT (c) 1981 BY
;	DIGITAL EQUIPMENT CORPORATION, MAYNARD
;	 MASSACHUSETTS.  ALL RIGHTS RESERVED.
;
; THIS  SOFTWARE  IS  FURNISHED  UNDER  A LICENSE AND MAY BE USED
; AND  COPIED  ONLY IN  ACCORDANCE WITH THE TERMS OF SUCH LICENSE
; AND WITH  THE INCLUSION  OF THE ABOVE  COPYRIGHT  NOTICE.  THIS
; SOFTWARE  OR ANY OTHER  COPIES  THEREOF, MAY NOT BE PROVIDED OR
; OTHERWISE MADE  AVAILABLE TO ANY OTHER PERSON.  NO TITLE TO AND
; OWNERSHIP OF THE SOFTWARE IS HEREBY TRANSFERED.
;
; THE INFORMATION  IN THIS DOCUMENT IS SUBJECT  TO CHANGE WITHOUT
; NOTICE AND SHOULD NOT BE CONSTRUED AS A COMMITMENT  BY  DIGITAL
; EQUIPMENT CORPORATION.
;
; DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE OR RELIABILITY OF
; ITS SOFTWARE ON EQUIPMENT THAT IS NOT SUPPLIED BY DIGITAL.
;
;
; VERSION 02.02
;
; C. MONIA 01-DEC-75
;
;
; MODIFICATIONS:
;
;	JAK001	8-17-77		ADD EXIT WITH STATUS
;
;	J. H. MATTHEWS	22-JUN-79
;
;		JM040 -- MOVE $EXSTS OUT OF TABLE THAT IS CLEARED
;
;	H. HUANG  06-AUG-80
;		
;		HH001 -- MODIFY PAT TO HANDLE NON-MACRO PRODUCED
;			 OBJECT MODULES. INITIALIZE TRANSFER
;			 ADDRESS DESCRIPTOR TO DEFAULT PSECT . ABS.
;
;
; PATCH TABLES
;
; EQUATED SYMBOLS
;
; INPUT FILE SWICHES
;
 
CR$FL==100000			; CORRECTION FILE SPECIFIED (1=YES)
IN$FL==040000			; INPUT FILE SPECIFIED (1=YES)
OU$FL==020000			; OUTPUT FILE SPECIFIED (1=YES)
 
;
; CONTROL SECTION FLAGS
;
 
CS$TYP==000200			; TYPE (1=DATA, 0=INS)
CS$GBL==000100			; SCOPE (1=GLOBAL, 0=LOCAL)
CS$REL==000040			; RELOCATABILITY (1=REL, 0=ABS)
CS$ACC==000020			; ACCESS (1=RO, 0=RW)
CS$ALO==000004			; ALLOCATION (1=OVR, 0=CON)
CS$LIB==000002			; LIBRARY SECTION (1=YES)
CS$MEM==000001			; MEMORY TYPE (1=HGH, 0=LOW)
 
;
; GLOBAL SYMBOL FLAGS
;
 
SY$GBL==000100			; GLOBAL (1=GLOBAL, 0=INTERNAL)
SY$REL==000040			; RELOCATABILITY (1=REL, 0=ABS)
SY$DEF==000010			; DEFINITION (1=DEF., 0=REF.)
SY$LIB==000004			; RESIDENT LIBRARY DEFINITION (1=DEF., 0=REF.)
SY$LBL==000002			; LABEL (1=LABEL, 0=EQUATED)
 
;
; SYMBOL TABLE ENTRY OFFSETS
;
 
	.ASECT
.=0
S$YNXT::.BLKW	1		; LINK TO NEXT (0=NONE)
S$YM::	.BLKW	2		; SYMBOL NAME (2-WORD, RAD50)
S$YFLG::.BLKB	1		; SYMBOL FLAGS
S$CNT::	.BLKB	1		; GSD CONTROL BYTE
S$YVAL::.BLKW	1		; SYMBOL VALUE
C$SLGH::.BLKW	0		; LENGTH OF SECTION TABLE ENTRY
S$YSCT::.BLKW	1		; ADDRESS OF SECTION TABLE ENTRY
S$YLGH::.BLKW	0		; LENGTH OF GLOBAL SYMBOL ENTRY
 
	.PSECT
 
;
; SST VECTOR FOR ERROR MESSAGE HANDLER
;
 
$ERVCT::.WORD	0		;
	.WORD	0		;
	.WORD	0		;
	.WORD	$ERTRP		; IOT TRAP TO ERROR MESSAGE ROUTINE
 
 
;
; EXIT STATUS
;

$EXSTS::.BLKW	1

;
; START OF REGION TO BE CLEARED
;
 
$CLRBG::.BLKW	0		;
 
;
; ADDRESS OF CORRECTION INPUT FILE SECTION MAPPING TABLE
;
 
$CRCMT::.BLKW	1		;
 
;
; COUNT OF UNIQUE SECTIONS
;
 
$CSCNT::.BLKW	1		;
 
;
; CHECKSUM SWITCH VALUE
;
;

$CKSUM::.BLKW	1		;

;
; CORRECTION INPUT FILE CHECKSUM SPECIFIED BY USER
;
; MUST BE ADJACENT TO COMPUTED CHECKSUM
;

$CRCS::	.BLKW	1		;

;
; CORRECTION INPUT FILE CHECKSUM COMPUTED BY PATCH
;

$CRCK::	.BLKW	1		;
 
;
; CORRECTION FILE SWITCH WORD
;
 
$CRSW::	.BLKW	1		;

;
; INPUT FILE CHECKSUM SPECIFIED BY USER
;
; MUST BE ADJACENT TO COMPUTED CHECKSUM
;

$INCS::	.BLKW	1		;

;
; INPUT FILE CHECKSUM COMPUTED BY PATCH
;

$INCK::	.BLKW	1		;
 
;
; INPUT FILE SWITCH WORD
;
 
$INSW::	.BLKW	1		;
 
;
; INPUT SWITCH SETTINGS SPECIFIED BY USER
;

$INPSW::.BLKW	1		;

;
; THE FOLLOWING TWO PARAMETERS MUST BE ADJACENT
;
; MODULE NAME GSD RECORD
;

$MODNM::.BLKW	4		;

;
; MODULE IDENTIFICATION
;

$IDENT::.BLKW	4		;
 
;
; SECTION TABLE LISTHEAD
;
 
$SCTHD::.BLKW	2		;
 
;
; SWITCH WORD
;
 
$SWTCH::.BLKW	1		;
 
;
; SYMBOL TABLE LISTHEAD
;
 
$SYMHD::.BLKW	1		;

;
; SIZE OF REGION TO CLEAR (IN BYTES)
;
 
C$LRSZ==.-$CLRBG		;
 
;
;	MODULE TRANSFER ADDRESS
;

$XFRAD::
	.RAD50	/. ABS./	; INITIALIZE TO . ABS. PSECT
	.BYTE	0,3		; GSD ENTRY TYPE 3
	.WORD 	1		; DUMMY OFFSET

	.END
