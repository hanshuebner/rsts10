	.TITLE	LBRRHD
	.IDENT	/03/

;
; COPYRIGHT 1975, DIGITAL EQUIPMENT CORP., MAYNARD, MASS.  01754
; COPYRIGHT 1974, DIGITAL EQUIPMENT CORP., MAYNARD, MASS.  01754
; COPYRIGHT 1973, DIGITAL EQUIPMENT CORP., MAYNARD, MASS.  01754
;
;	DEC ASSUMES NO RESPONSIBLIITY FOR THE USE
;	OR RELIABILITY OF ITS SOFTWARE ON EQUIPMENT
;	WHICH IS NOT SUPPLIED BY DEC.
;
; THIS SOFTWARE IS FURNISHED TO PURCHASER UNDER A LICENSE FOR USE
; ON A SINGLE COMPUTER SYSTEM AND CAN BE COPIED (WITH INCLUSION
; OF DEC'S COPYRIGHT NOTICE) ONLY FOR USE IN SUCH SYSTEM, EXCEPT
; AS MAY OTHERWISE BE PROVIDED IN WRITING BY DEC.
;
; THE INFORMATION IN THIS DOCUMENT IS SUBJECT TO CHANGE WITHOUT
; NOTICE AND SHOULD NOT BE CONSTRUED AS A COMMITMENT BY DIGITAL
; EQUIPMENT CORPORATION.
;
; VERSION 03
;
; WRITTEN BY:
;	GEORGE W. BERRY
;
; MODIFIED BY:
;	C.A. D'ELIA	08-MAY-74
;	THOMAS J MILLER 07-NOV-75  (CHANGE IN$COR TO $SWTCH+2)
;
;

;+
;
; **-$RDHD=READ LIBRARY HEADER,EPT,AND MNT.
;
; THIS ROUTINE READS THE HEADER, EPT AND MNT INTO
; AN AREA BEGINNING AT L$BUF.
;
; INPUTS:
;
;	NONE
;
; OUTPUTS:
;
;	$EPBLK AND $MNBLK ARE SET UP
;
;-
$RDHD::	BIT	#IN$COR,$SWTCH+2 ;IS HEADER, EPT, AND MNT ALREADY THERE?
	BNE	10$		;EXIT IF SO
	CALL	$RDLHD		;READ LIBRARY HEADER
	CALL	$RDEP		;READ EPT
	CALL	$RDMN		;READ MNT
	BIS	#IN$COR,$SWTCH+2	;INDICATE GOOD HEADER, EPT AND MNT IN CORE
10$:	RETURN
 
  
	.END
